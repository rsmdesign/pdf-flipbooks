"use strict";var $html=$("html"),$body=$("body"),$header=$("#header"),$navBar=$("#nav-bar"),headerHeight=$header.height(),stickyBarrier=$(window).height()-$navBar.height()-2,outBarrier=2*$header.height(),scrolled=0;window.setHeader=function(){scrolled=$(window).scrollTop(),scrolled>headerHeight&&!$header.hasClass("fixed")?($header.addClass("fixed"),$header.hasClass("absolute")||$body.css("padding-top",headerHeight+"px")):scrolled<=headerHeight&&$header.hasClass("fixed")&&($header.removeClass("fixed"),$header.hasClass("absolute")||$body.css("padding-top",0)),scrolled>outBarrier&&!$header.hasClass("out")?$header.addClass("out"):scrolled<=outBarrier&&$header.hasClass("out")&&$header.removeClass("out"),scrolled>stickyBarrier&&!$header.hasClass("sticky")?($header.addClass("sticky"),$body.addClass("sticky-header")):scrolled<=stickyBarrier&&$header.hasClass("sticky")&&($header.removeClass("sticky"),$body.removeClass("sticky-header"))};var Okno={init:function(){this.Basic.init(),this.Component.init()},Basic:{init:function(){this.mobileDetector(),this.backgrounds(),this.masonry(),this.navPrimary(),this.searchBar(),this.filter(),this.map(),this.scroller(),this.sidePanel()},mobileDetector:function(){var a={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return a.Android()||a.BlackBerry()||a.iOS()||a.Opera()||a.Windows()}};window.trueMobile=a.any()},backgrounds:function(){$(".bg-image").each(function(){var a=$(this).children("img").attr("src");$(this).css("background-image","url("+a+")").children("img").hide()}),$(".bg-parallax").parallax({zIndex:0}),$(".bg-slideshow").owlCarousel({singleItem:!0,autoPlay:4e3,pagination:!1,navigation:!1,navigationText:!1,slideSpeed:1500,transitionStyle:"fade",mouseDrag:!1,touchDrag:!1});var a=$(".bg-video");a&&a.YTPlayer(),trueMobile&&a.hasClass("bg-video")&&(a.prev(".bg-video-placeholder").show(),a.remove())},animations:function(){$(".animated").appear(function(){$(this).each(function(){var a=$(this),b=$(this).data("animation-delay");setTimeout(function(){a.addClass(a.data("animation")).addClass("visible")},b)})})},masonry:function(){var a=$(".masonry","#content");a.masonry({columnWidth:".masonry-sizer",itemSelector:".masonry-item",percentPosition:!0}),a.imagesLoaded().progress(function(){a.masonry("layout")}),a.on("layoutComplete",Waypoint.refreshAll())},navPrimary:function(){var a=$("#nav-primary"),b=a.find(".has-dropdown, .has-megamenu").children("a");$('[data-toggle="mobile-menu"]').on("click",function(){return $body.toggleClass("mobile-nav-open"),a.slideToggle(300),!1}),b.on("click",function(){return $(window).width()<992&&$(this).next("ul, .megamenu").slideToggle(300),!1}),window.setNavPrimary=function(){$(window).width()>=992&&(a.show(),b.next("ul, .megamenu").each(function(){$(this).show()})),$(window).width()<992&&(a.hide(),$body.removeClass("mobile-nav-open"))}},scroller:function(){var b=($("#header"),$("#nav-bar").height()),d=($("#mobile-nav"),$("section","#content")),e=0;e=-b;var f=$('[data-target="local-scroll"]');$body.hasClass("one-page")&&(f=$('#header, [data-target="local-scroll"]')),f.find("a").on("click",function(){$(this).blur()}),f.localScroll({offset:e,duration:800,easing:"easeOutCubic"});var g=$("#nav-primary li > a"),h=function(a){g.each(function(){var b=$(this).attr("href");a==b?$(this).addClass("active"):$(this).removeClass("active")})};d.waypoint({handler:function(a){if("up"==a){var b="#"+this.element.id;h(b)}},offset:function(){return-this.element.clientHeight+b}}),d.waypoint({handler:function(a){if("down"==a){var b="#"+this.element.id;h(b)}},offset:function(){return b+1}}),$(window).resize(function(){setTimeout(function(){Waypoint.refreshAll()},600)})},searchBar:function(){$("#search-bar");$('[data-toggle="search-bar"]').on("click",function(){return $("body").toggleClass("search-bar-open"),!1})},filter:function(){var a=$("#filter-bar");if($("#filter-bar").length>0){var c,b=a.offset().top;window.setFilterBar=function(){c=$(window).scrollTop(),c>b&&a.addClass("fixed"),c<=b&&a.removeClass("fixed")};var d=a.find(".selector");window.setFilterSelector=function(){var b=a.find(".filter li.active");d.css({width:b.width()+"px",left:b.offset().left+"px"})},setFilterSelector()}var g,h,e=$(".filter"),f=$(".filter-isotope");f.each(function(){g=$($(this).data("filter-list")),g.hasClass("masonry")?g.isotope({itemSelector:".masonry-item",percentPosition:!0,masonry:{columnWidth:".masonry-sizer"}}):g.isotope()}),e.on("click","a",function(){return g=$($(this).parents(".filter").data("filter-list")),h=$(this).attr("data-filter"),g.children().filter(".not-matched").removeClass("not-matched"),"*"!=h&&g.children().filter(h).addClass("not-matched"),$(this).parents("ul").find(".active").removeClass("active"),$(this).parent("li").addClass("active"),setFilterSelector(),!1}),f.on("click","a",function(){return g=$($(this).parents(".filter-isotope").data("filter-list")),h=$(this).attr("data-filter"),g.isotope({filter:h}),$(this).parents("ul").find(".active").removeClass("active"),$(this).parent("li").addClass("active"),!1})},map:function(){var $googleMap=$("#google-map");if($googleMap.length>0)var yourLatitude=$googleMap.data("latitude"),yourLongitude=$googleMap.data("longitude"),pickedStyle=$googleMap.data("style"),dark=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}],light=[{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}],pickedStyle=$googleMap.data("style"),myOptions={zoom:14,center:new google.maps.LatLng(yourLatitude,yourLongitude),mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,panControl:!1,zoomControl:!0,scaleControl:!1,streetViewControl:!1,scrollwheel:!1,styles:eval(pickedStyle)},map=new google.maps.Map(document.getElementById("google-map"),myOptions),image="dark"==pickedStyle?"assets/img/location-pin-light.png":"assets/img/location-pin.png",myLatLng=new google.maps.LatLng(yourLatitude,yourLongitude),myLocation=new google.maps.Marker({position:myLatLng,map:map,icon:image})},sidePanel:function(){$('[data-toggle="side-panel"]').on("click",function(){return $body.toggleClass("side-panel-open"),!1}),$(".nav-panel a").on("click",function(){if($(this).attr("href").indexOf(".html")==-1)return $body.removeClass("side-panel-open"),!1})}},Component:{init:function(){this.carousel(),this.counter(),this.counterdown(),this.lightbox(),this.twitterFeed(),this.forms(),this.instagramFeed(),this.videoBox()},carousel:function(){$(".carousel").each(function(){var a,b,c,d,e,f,g,h;a=$(this).data("items"),b=$(this).data("single-item"),c=$(this).data("autoplay"),d=!!$(this).data("transition")&&$(this).data("transition"),h=!!$(this).data("pagination"),g=!!$(this).data("navigation"),e="fade"!=d,f="fade"!=d&&0!=h&&0!=g,$(this).owlCarousel({items:a,itemsDesktop:[1199,Math.ceil(.6*a)],itemsDesktopSmall:[991,Math.ceil(.5*a)],itemsTablet:[768,Math.ceil(.4*a)],itemsMobile:[479,Math.ceil(.2*a)],singleItem:b,autoPlay:c,pagination:h,navigation:g,navigationText:!1,slideSpeed:800,stopOnHover:f,transitionStyle:d,mouseDrag:e,touchDrag:e,addClassActive:!0})})},cookiePopup:function(){},counter:function(){$(".counter-value").counterUp({delay:10,time:1e3})},counterdown:function(){$(".countdown").each(function(){var date=$(this).data("date"),labels=eval($(this).data("labels"));$(this).countdown(date,function(a){var b='<span class="time">%H:%M:%S</span>';a.offset.days>0&&(b='<span class="days">%-d <span>'+labels[1]+"</span></span> "+b),a.offset.weeks>0&&(b='<span class="weeks">%-w <span>'+labels[0]+"</span></span> "+b),$(this).html(a.strftime(b))})})},lightbox:function(){lightbox.option({disableScrolling:!0})},twitterFeed:function(){$(".twitter-feed").each(function(){var a=$(this).data("count");$(this).twittie({apiPath:"assets/api/twitter/tweet.php",count:a,template:'{{tweet}} - <span class="date">{{date}}</span>'})})},typing:function(){$(".typing").appear(function(){$(this).each(function(){var a=[$(this).html()];$(this).html(""),$(this).typed({strings:a,startDelay:1e3,typeSpeed:30,contentType:"html"})})})},instagramFeed:function(){var a=$("#instagram-feed");if(a.length>0){var b=a.data("limit"),c=a.data("resolution")?a.data("resolution"):"thumbnail",d=new Instafeed({accessToken:"2969283166.1677ed0.e859dad53f0b4f6cab807252cb20a682",userId:"2969283166",get:"user",target:"instagram-feed",template:'<a href="{{link}}" target="_blank"><img src="{{image}}" /></a>',limit:b,resolution:c});d.run()}},forms:function(){var a=$("#notification-bar"),c=($("#notification-bar").find(".close-it"),function(b,c){a.html("<div class="+b+">"+c+'<a href="#" class="close-it"><i class="ti-close"></i></a></div>'),setTimeout(function(){a.addClass("visible")},400),setTimeout(function(){a.removeClass("visible")},1e4)});$body.delegate("#notification-bar .close-it","click",function(){return d(),!1});var d=function(){a.removeClass("visible")};$(".validate-form").each(function(){$(this).validate({validClass:"valid",errorClass:"error",onfocusout:function(a,b){$(a).valid()},errorPlacement:function(a,b){return!0},rules:{email:{required:!0,email:!0}}})});var e=$(".sign-up-form");e.length>0&&e.submit(function(){var d,a=$(this).find(".btn-submit"),b=$(this),e=$(this).data("message-success"),f=$(this).data("message-error");return!!b.valid()&&(a.addClass("loading"),$.ajax({type:b.attr("method"),url:b.attr("action"),data:b.serialize(),cache:!1,dataType:"jsonp",jsonp:"c",contentType:"application/json; charset=utf-8",error:function(b){setTimeout(function(){a.addClass("error")},1200)},success:function(b){"success"!=b.result?(d="error",c("error",f)):(d="success",c("success",e)),setTimeout(function(){a.addClass(d)},400)},complete:function(b){setTimeout(function(){a.removeClass("loading error success")},1e4)}}),!1)});var f=$(".contact-form");if(f.length>0){var h,g=f.find(".g-recaptcha");f.submit(function(){var d,a=$(this).find(".btn-submit"),b=$(this),e=$(this).data("message-success"),f=$(this).data("message-error");return g.length>0?0!=grecaptcha.getResponse().length?(h=!0,g.removeClass("error")):(h=!1,g.addClass("error"),setTimeout(function(){g.removeClass("error")},1e3)):h=!0,!(!b.valid()||!h)&&(a.addClass("loading"),$.ajax({type:"POST",url:"assets/php/contact-form.php",data:b.serialize(),error:function(b){setTimeout(function(){a.addClass("error")},1200)},success:function(b){"success"!=b?(d="error",c("error",f)):(d="success",c("success",e)),setTimeout(function(){a.addClass(d)},400)},complete:function(b){setTimeout(function(){a.removeClass("loading error success"),g.length>0&&grecaptcha.reset()},1e4)}}),!1)})}},modal:function(){$(".modal[data-timeout]").each(function(){var a=$(this).data("timeout"),b=$(this);setTimeout(function(){b.modal("show")},a)})},videoBox:function(){$(".video-box.placeholder-image .btn-play").on("click",function(){var a='<iframe src="'+$(this).attr("href")+'" autoplay="1"></iframe>',b=$(this).parents(".video-box");b.addClass("playing");var c=b.outerWidth(),d=b.outerHeight();return $(this).siblings(".image").html(a),b.find("iframe").css({width:c+"px",height:d+"px"}),!1})}}};$(document).ready(function(){Okno.init()}),$(document).keyup(function(a){27==a.keyCode&&$body.removeClass("search-bar-open")}),$(window).scroll(function(){setHeader(),$("#filter-bar").length>0&&setFilterBar()}),$(window).resize(function(){setNavPrimary(),$("#filter-bar").length>0&&setFilterSelector()}),$(window).load(function(){Okno.Component.typing(),$("#page-loader").fadeOut(200,function(){Okno.Basic.animations(),Okno.Component.modal(),1==$html.data("cookies-popup")&&Okno.Component.cookiePopup()})});